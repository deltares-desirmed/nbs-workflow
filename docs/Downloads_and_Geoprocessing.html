<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Downloads and Geoprocessing</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Applied desirmed Framework</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="How_To.html">How to?</a>
</li>
<li>
  <a href="Resources.html">Downloads</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/deltares-desirmed/nbs-workflow">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Downloads and Geoprocessing</h1>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2024-12-27
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>R_tutorial/</code> <span
class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.1). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git
repository, you know the exact version of the code that produced these
results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20241223code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20241223)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20241223code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20241223)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be
confident that you successfully produced the results during this
run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomOhmNpRtutorialtree8269de6daf1c8bc39768346e09500c2ba9f0ee76targetblank8269de6a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/deltares-desirmed/nbs-workflow/tree/8269de6daf1c8bc39768346e09500c2ba9f0ee76" target="_blank">8269de6</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomOhmNpRtutorialtree8269de6daf1c8bc39768346e09500c2ba9f0ee76targetblank8269de6a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/deltares-desirmed/nbs-workflow/tree/8269de6daf1c8bc39768346e09500c2ba9f0ee76" target="_blank">8269de6</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/

Untracked files:
    Untracked:  analysis/Basic_Operations_with_Raster_Data.Rmd
    Untracked:  analysis/Resources.Rmd

Unstaged changes:
    Modified:   analysis/Understanding_Geospatial_Data.Rmd
    Modified:   analysis/_site.yml
    Deleted:    analysis/about.Rmd

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">
<p>
These are the previous versions of the repository in which changes were
made to the R Markdown
(<code>analysis/Downloads_and_Geoprocessing.Rmd</code>) and HTML
(<code>docs/Downloads_and_Geoprocessing.html</code>) files. If
you’ve configured a remote Git repository (see
<code>?wflow_git_remote</code>), click on the hyperlinks in the table
below to view the files as they were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/deltares-desirmed/nbs-workflow/blob/8269de6daf1c8bc39768346e09500c2ba9f0ee76/analysis/Downloads_and_Geoprocessing.Rmd" target="_blank">8269de6</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-27
</td>
<td>
wflow_publish("analysis/Downloads_and_Geoprocessing.Rmd")
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/deltares-desirmed/nbs-workflow/504b7c826c270d7bf5c65593289a7d953e7492e6/docs/Downloads_and_Geoprocessing.html" target="_blank">504b7c8</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/deltares-desirmed/nbs-workflow/blob/d205c20c73b0a27838410db4625d2c9d84725aef/analysis/Downloads_and_Geoprocessing.Rmd" target="_blank">d205c20</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
wflow_publish("analysis/Downloads_and_Geoprocessing.Rmd")
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/deltares-desirmed/nbs-workflow/c25291f5c7e4242c146b54e34b94af3fffdba1fc/docs/Downloads_and_Geoprocessing.html" target="_blank">c25291f</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/deltares-desirmed/nbs-workflow/blob/69eb64021d01c11fe464a9b8f1a97afe7c9775f5/analysis/Downloads_and_Geoprocessing.Rmd" target="_blank">69eb640</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
wflow_publish("analysis/Downloads_and_Geoprocessing.Rmd")
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/deltares-desirmed/nbs-workflow/c7cee438abde30017ba7d1c7dc44df42909dc05e/docs/Downloads_and_Geoprocessing.html" target="_blank">c7cee43</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/deltares-desirmed/nbs-workflow/blob/2c2603bee94d3091b139555f7109c22c64114e76/analysis/Downloads_and_Geoprocessing.Rmd" target="_blank">2c2603b</a>
</td>
<td>
Ohm-Np
</td>
<td>
2024-12-25
</td>
<td>
wflow_publish("analysis/Downloads_and_Geoprocessing.Rmd")
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<style> p { text-align: justify; } </style>


<style> p { text-align: justify; } </style>

<p>Functional units of the landscape form the basis for understanding and analyzing the interaction between natural and human systems. Land use and land cover data are critical in delineating these units, providing insights into spatial distribution, land patterns, and ecosystem functionality. The selection of appropriate datasets ensures accurate characterization and reliable impact assessments for Nature-based Solutions (NbS) portfolios.</p>

<div id="land-use-data" class="section level3">
<h3><strong>Land Use Data</strong></h3>
<p>Copernicus provides comprehensive datasets on land use at various scales and resolutions. These datasets are crucial for understanding spatial heterogeneity and characterizing landscape types. In this section, we focus on three primary datasets widely used for land use classification:</p>

<h4><strong>1. Urban Atlas</strong></h4>
<p>The Urban Atlas provides detailed land use data for Functional Urban Areas (FUAs) across Europe. This dataset is particularly useful for urban studies and planning. Although its spatial coverage is limited to urban zones, its high resolution (0.25 ha for urban and 1 ha for rural areas) makes it a preferred choice for fine-scale urban analyses.</p>
<ul>
<li>Dataset description: <a href="https://land.copernicus.eu/local/urban-atlas">Urban Atlas Overview</a></li>
<li>Download link: <a href="https://land.copernicus.eu/local/urban-atlas/access">Urban Atlas Data Access</a></li>
</ul>

<h4><strong>2. CORINE Land Cover (CLC)</strong></h4>
<p>Covering rural and urban areas, the CORINE dataset provides pan-European coverage with thematic detail spanning 44 land cover classes. This dataset is updated every six years and supports large-scale landscape analyses. While its resolution is coarser than Urban Atlas, CORINE excels in thematic coverage and integration of rural areas.</p>
<ul>
<li>Dataset description: <a href="https://land.copernicus.eu/pan-european/corine-land-cover">CORINE Land Cover Overview</a></li>
<li>Download link: <a href="https://land.copernicus.eu/pan-european/corine-land-cover/clc2018">CORINE Land Cover Data Access</a></li>
</ul>

<h4><strong>3. Coastal Zones</strong></h4>
<p>The Coastal Zones dataset focuses on detailed spatial coverage of coastal areas, which is essential for addressing coastal management and conservation needs. With a high resolution of 0.5 ha, this dataset supports precise delineation of coastal features and processes.</p>
<ul>
<li>Dataset description: <a href="https://land.copernicus.eu/local/coastal-zones">Coastal Zones Overview</a></li>
<li>Download link: <a href="https://land.copernicus.eu/local/coastal-zones/access">Coastal Zones Data Access</a></li>
</ul>

<h4><strong>Comparison of Datasets</strong></h4>
<p>The table below provides a human-readable comparative overview of the three datasets:</p>

<table style="width:100%; border-collapse: collapse; text-align: left;">
<thead>
<tr style="border-bottom: 2px solid #ddd;">
<th style="padding: 8px;"><strong>Characteristic</strong></th>
<th style="padding: 8px;"><strong>Urban Atlas</strong></th>
<th style="padding: 8px;"><strong>CORINE Land Cover</strong></th>
<th style="padding: 8px;"><strong>Coastal Zones</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="padding: 8px;">Spatial Coverage</td>
<td style="padding: 8px;">Limited to FUAs</td>
<td style="padding: 8px;">Pan-European</td>
<td style="padding: 8px;">Focused on coastal areas</td>
</tr>
<tr>
<td style="padding: 8px;">Resolution</td>
<td style="padding: 8px;">High (0.25 ha urban, 1 ha rural)</td>
<td style="padding: 8px;">Moderate (25 ha for areal phenomena)</td>
<td style="padding: 8px;">High (0.5 ha)</td>
</tr>
<tr>
<td style="padding: 8px;">Thematic Detail</td>
<td style="padding: 8px;">17 urban and 10 rural classes</td>
<td style="padding: 8px;">44 thematic classes</td>
<td style="padding: 8px;">71 detailed classes</td>
</tr>
<tr>
<td style="padding: 8px;">Application</td>
<td style="padding: 8px;">Urban planning</td>
<td style="padding: 8px;">Broad landscape characterization</td>
<td style="padding: 8px;">Coastal zone management</td>
</tr>
</tbody>
</table>

<p>Based on the needs of this workflow, the Coastal Zones dataset will be used for further analyses due to its high resolution and relevance to coastal landscapes.</p>

<h4><strong>Step-by-Step Download and Processing</strong></h4>
<p>The following steps outline the process to download, inspect, and integrate the Coastal Zones dataset into the workflow:</p>

<h5><strong>Step 1: Visit the Copernicus Land use/cover Data Portal</strong></h5>
<p>Access the Coastal Zones dataset by visiting the <a href="https://land.copernicus.eu/local/coastal-zones">Copernicus Coastal Zones Portal</a>. Navigate to the data access section and select the relevant dataset.</p>

<h5><strong>Step 2: Select and Download the Dataset</strong></h5>
<p>Choose the required dataset based on the region and time period of interest. Follow the download instructions provided on the portal.</p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/1.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/2.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/3.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>

<h5><strong>Step 3: Unzip and Inspect the Data</strong></h5>
<p>After downloading, unzip the dataset. You will realise that the dataset comes in different format, i.e the gpkg file and the qml for visualising. Add the gpkg file in QGIS or any prefered Dekstop GIS. I will use QGIS here.Inspect the spatial coverage and attributes. You can see that it has a redicoulsly large amount of shapes (>400,000). Once you load it, you can now add the qml file to visualise and inspect the various functional units. Before this, better zoom to your area of interest. We will not cover how to add the qml file to visualise the land use. For a hands-on guide on how to do it <a href="https://youtu.be/NEoVNalbajU?si=stcFFR6i_gYLtybJ" target="_blank">watch this video</a></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/4.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/5.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/6.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/7.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/8.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>

<h5><strong>Step 4: Preprocess for Earth Engine</strong></h5>
<p>To do this in GEE,we will have to convert the dataset into a format compatible with Google Earth Engine (GEE), such as GeoTIFF or shapfiles. Use QGIS or a similar GIS tool for this step. Because the land use GPKG file contains a large number of shapes, which can make it cumbersome to work with in desktop software like ArcGIS, transitioning to a cloud computing platform like GEE is beneficial. These days, cloud platforms provide unparalleled processing power, scalability, and accessibility for handling large geospatial datasets, making them ideal for projects like this.

  GEE does not directly support GPKG files. Therefore, we need to export the data from GPKG into shapefiles, which are accepted by GEE. Shapefiles are more lightweight and manageable for this transition.</p>

<h5><strong>Step 5: Upload to Google Earth Engine</strong></h5>
<p>Log in to your Google Earth Engine (GEE) account and prepare to upload the preprocessed dataset. <a href="https://youtu.be/q-g9hLJHEcw?si=LbmgcU_jeCFKkD57">Learn how to open an Earth Engine account if you dont have</a>. Due to the large size and complexity of the dataset, especially when working with GPKG files containing a high number of shapes (e.g., >400,000), the geometry must be simplified and split to enhance performance. GEE imposes a limit on vertices for each feature, so splitting the geometry ensures that the upload is successful and the data renders efficiently. For this step, export your dataset from GPKG to Shapefile format, as GEE does not currently support GPKG files directly.</p>

<p>To upload your dataset:</p>
<ul>
  <li>Open the Asset Manager in the GEE Code Editor and click on the upload button (<strong>+</strong>).</li>
  <li>Select "Shape files" under the "Table Upload" section and navigate to your local Shapefile archive (.zip format) containing the .shp, .dbf, .shx, and .prj files.</li>
  <li>Specify an appropriate Asset ID and enable the "Split geometries" option under Advanced settings if the dataset contains highly detailed geometries.</li>
  <li>Click <strong>UPLOAD</strong> to start the process and monitor progress in the Task Manager.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/9.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/10.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>
<p>Cloud platforms like GEE provide unparalleled capabilities for processing and analyzing large geospatial datasets. These days, cloud computing is vital for handling big geospatial data because of its scalability, computational power, and ability to store and manage extensive datasets efficiently. GEE's integration with machine learning, visualization tools, and global datasets makes it an excellent choice for such workflows.</p>

<h5><strong>Step 6: Verify Dataset in GEE</strong></h5>
<p>After uploading, navigate to the Assets tab in the GEE Code Editor to ensure that the dataset appears as expected. Import the dataset into your script by copying the Asset ID and creating a FeatureCollection in your script:</p>
<pre class="r"><code>
// Import the uploaded dataset
var landUseDataset = ee.FeatureCollection('users/your_username/your_asset_id');

// Display the dataset on the map
Map.centerObject(landUseDataset, 10); //You can comment out this part if your browser freezes or get an error like "Collection.geometry: Geometry has too many edges (13318505 > 2000000)."
Map.addLayer(landUseDataset, {}, 'Land Use Dataset');
</code></pre>
<p><img src="https://raw.githubusercontent.com/deltares-desirmed/nbs-workflow/main/img/11.png" alt="Inspecting Data in QGIS" style="display: block; margin: auto;" /></p>

<h3><strong>Land Use Dataset Creation</strong></h3>
<p>The creation of land use datasets is an essential step in analyzing spatial patterns and understanding land cover dynamics over time. These datasets serve as foundational inputs for various geospatial analyses, including habitat classification, urban planning, and environmental monitoring. Using Earth Engine, we can load, process, and export land use datasets efficiently while ensuring compatibility with large-scale applications.</p>

<h4><strong>Step 1: Load Land Use Datasets</strong></h4>
<p>We start by loading the land use datasets for 2012 and 2018. These datasets provide detailed land cover information for Croatia, which will be analyzed for changes over time.</p>

<pre>
<code>// Load the assetar lulc2012 = ee.FeatureCollection('projects/ee-desmond/assets/lulc2012_Croatiafinal');
var lulc2018 = ee.FeatureCollection('projects/ee-desmond/assets/lulc2018_Croatiafinal');
</code>
</pre>

<p><strong>Explanation:</strong> The <code>ee.FeatureCollection</code> function is used to load the datasets. Each dataset contains land use features for Croatia, which are stored in a structured format compatible with Earth Engine operations.</p>

<h4><strong>Step 2: Define the Color Palette for Land Cover Classes</strong></h4>
<p>To enhance visualization, we define a color palette and descriptions for each land cover class. This ensures that each class is visually distinct and easy to interpret.</p>

<pre>
<code>// Define the color palette for each land use class
var landCoverClasses = {
  11110: {color: '#d20000', description: 'Continuous urban fabric (IMD >= 80%)'},
  11120: {color: '#f20000', description: 'Dense urban fabric (IMD >= 30-80%)'},
  // ... Add the remaining classes here
};
</code>
</pre>

<p><strong>Explanation:</strong> The <code>landCoverClasses</code> object maps class codes to their respective colors and descriptions. These properties are later used for styling the dataset in Earth Engine.</p>

<h4><strong>Step 3: Define Croatia Coastal Boundaries</strong></h4>
<p>We focus the analysis on Croatia's coastal region by defining a geographic boundary. This ensures that only relevant features are included in the dataset.</p>

<pre>
<code>// Define Croatia's coastal bounds
var croatiaCoastalBounds = ee.Geometry.Polygon([
  [13.5, 44.0], [18.5, 44.0], [18.5, 42.0], [13.5, 42.0], [13.5, 44.0]
]);
</code>
</pre>

<p><strong>Explanation:</strong> A polygon geometry is created to delineate the coastal region of Croatia. The <code>filterBounds</code> function will use this boundary to extract relevant features from the datasets.</p>

<h4><strong>Step 4: Filter the Dataset to the Coastal Region</strong></h4>
<p>The land use datasets are filtered to include only features within the coastal boundaries. This reduces computational overhead and focuses the analysis on the area of interest.</p>

<pre>
<code>// Filter datasets for 2012 and 2018 to the coastal region
var coastalLulc2012 = lulc2012.filterBounds(croatiaCoastalBounds);
var coastalLulc2018 = lulc2018.filterBounds(croatiaCoastalBounds);
</code>
</pre>

<p><strong>Explanation:</strong> The <code>filterBounds</code> method is used to extract features that intersect the defined coastal region. This step ensures that only relevant data is included in subsequent analyses.</p>

<h4><strong>Step 5: Rasterize the Dataset</strong></h4>
<p>We convert the feature collections into raster images, which are more suitable for pixel-based analyses and visualizations.</p>

<pre>
<code>// Rasterize the 2012 dataset
var rasterized2012 = coastalLulc2012.map(function(feature) {
  var code = feature.get('CODE_5_12'); // Use the field for the 2012 dataset
  return feature.set('class', code); // Set the class based on CODE_5_12
}).reduceToImage(['class'], ee.Reducer.first());

// Rasterize the 2018 dataset
var rasterized2018 = coastalLulc2018.map(function(feature) {
  var code = feature.get('CODE_5_18'); // Use the field for the 2018 dataset
  return feature.set('class', code); // Set the class based on CODE_5_18
}).reduceToImage(['class'], ee.Reducer.first());
</code>
</pre>

<p><strong>Explanation:</strong> The <code>reduceToImage</code> function is used to generate raster images from the feature collections. Each pixel in the raster represents a land use class, with values corresponding to the <code>class</code> property.</p>

<h4><strong>Step 6: Style and Visualize the Rasterized Datasets</strong></h4>
<p>We apply the color palette to the rasterized datasets and visualize them on the map for inspection.</p>

<pre>
<code>// Extract the color palette from landCoverClasses
var palette = Object.keys(landCoverClasses).map(function(key) {
  return landCoverClasses[key].color; // Ensure only colors are extracted
});

// Add the rasterized 2012 layer to the map
Map.addLayer(rasterized2012, {min: 11110, max: 84200, palette: palette}, 'Coastal Land Use 2012');

// Add the rasterized 2018 layer to the map
Map.addLayer(rasterized2018, {min: 11110, max: 84200, palette: palette}, 'Coastal Land Use 2018');
</code>
</pre>

<p><strong>Explanation:</strong> The color palette ensures that each class is visually distinct, making it easier to interpret the rasterized datasets. Adding the layers to the map allows for visual inspection and verification.</p>

<h4><strong>Step 7: Add a Legend for Visualization</strong></h4>
<p>To enhance interpretability, we create a legend that displays the color and description for each land use class.</p>

<pre>
<code>// Create the legend container
var legend = ui.Panel({
  style: {
    position: 'bottom-left',
    padding: '0px',
    backgroundColor: '#f0f0f0'
  }
});

// Add a checkbox to toggle the legend visibility
var showLegend = ui.Checkbox({
  label: 'Show Legend',
  value: true,  // Initially checked to show the legend
  style: {
    fontSize: '10px',
    padding: '0px',
    backgroundColor: '#f0f0f0'
  }
});
legend.add(showLegend);

// Create columns for the legend items
var column1 = ui.Panel({
  style: {
    padding: '5px',
    backgroundColor: '#f0f0f0'
  }
});

// Container panel to hold all columns
var columns = ui.Panel({
  layout: ui.Panel.Layout.Flow('horizontal'),
  style: {
    backgroundColor: '#f0f0f0'
  }
});
columns.add(column1);

// Helper function to create a legend row
var makeRow = function(color, description) {
  var colorBox = ui.Label({
    style: {
      backgroundColor: color,
      padding: '4px',
      margin: '0 4px 4px 0'
    }
  });
  var label = ui.Label({
    value: description,
    style: {
      margin: '0 0 4px 6px',
      fontSize: '10px',
      backgroundColor: '#f0f0f0'
    }
  });
  return ui.Panel({
    widgets: [colorBox, label],
    layout: ui.Panel.Layout.Flow('horizontal'),
    style: {
      backgroundColor: '#f0f0f0'
    }
  });
};

// Populate the legend
Object.keys(landCoverClasses).forEach(function(key) {
  var color = landCoverClasses[key].color;
  var description = landCoverClasses[key].description;
  column1.add(makeRow(color, description));
});

// Add the legend to the map
legend.add(columns);
Map.add(legend);
</code>
</pre>

<p><strong>Explanation:</strong> The legend provides a visual reference for interpreting the land use classes, making the map more user-friendly and informative.</p>

<h4><strong>Step 8: Export the Rasterized Datasets</strong></h4>
<p>Finally, we export the rasterized datasets as assets for further analysis or sharing.</p>

<pre>
<code>// Export rasterized 2012 dataset
Export.image.toAsset({
  image: rasterized2012,
  description: 'Coastal_Land_Use_2012',
  assetId: 'projects/ee-desmond/assets/Coastal_Land_Use_2012',
  region: croatiaCoastalBounds,
  scale: 30,
  crs: 'EPSG:4326',
  maxPixels: 1e13
});

// Export rasterized 2018 dataset
Export.image.toAsset({
  image: rasterized2018,
  description: 'Coastal_Land_Use_2018',
  assetId: 'projects/ee-desmond/assets/Coastal_Land_Use_2018',
  region: croatiaCoastalBounds,
  scale: 30,
  crs: 'EPSG:4326',
  maxPixels: 1e13
});
</code>
</pre>

<p><strong>Explanation:</strong> Exporting the datasets ensures that they are available for future analyses or integration into other workflows. The <code>Export.image.toAsset</code> function saves the data as assets within the Earth Engine environment.</p>

<p>Our Land use/cover data is ready for further analysis in Google Earth Engine. We will use this data as the functional unit and the basis for vreating other datasets like EUNIS, landscape Archetypes, Ecosystem service Map and risk exposures</p>



<h5><strong>Other Datasets</strong></h5>
<p>Following the land use data, we will explore additional datasets such as EUNIS, Points of Interest (POI), population, river basins, hydrosheds, and flood probability data. Similar detailed steps will be provided to guide you through the download, preprocessing, and integration of these datasets.</p>
</div>

<h3><strong>EUNIS Dataset Creation</strong></h3>
<p>The <a href="https://eunis.eea.europa.eu/">EUNIS habitat classification system</a> is a vital tool for understanding habitat types across Europe, supporting biodiversity monitoring, conservation planning, and ecosystem-based management. By standardizing habitat classification, EUNIS provides a framework for consistent ecological assessments. While official EUNIS maps exist, they are often based on older datasets (e.g., 2012) and may not reflect recent land use changes or provide adequate detail for dynamic coastal regions.</p>

<p>Our workflow builds upon the foundational work conducted in the <a href="https://www.rest-coast.eu/">RESTCOAST project</a>. Their innovative use of land use data to derive EUNIS classifications highlighted key methodologies but also revealed some limitations that we aim to address using the latest 2021/2022 land use/land cover (LULC) datasets.</p>

<h4><strong>Shortcomings of the RESTCOAST Approach</strong></h4>
<ul>
  <li>**Outdated Classifications:** Reliance on datasets from 2012 limited the ability to capture recent changes in land use.</li>
  <li>**Overlapping Geometries:** Challenges in addressing overlapping polygons resulted in ambiguities in habitat delineations and area calculations.</li>
  <li>**Limited EUNIS Class Translation:** Not all available LULC classes were fully mapped to the comprehensive 71 EUNIS habitat types, potentially leaving some habitats underrepresented.</li>
</ul>

<h4><strong>Improvements in This Workflow</strong></h4>
<p>To overcome these limitations, this workflow incorporates the following enhancements:</p>
<ul>
  <li>**Use of the Latest Datasets:** The 2021/2022 coastal LULC datasets provide better alignment with current ecological realities and landscape changes.</li>
  <li>**Refined Crosswalk Mapping:** A complete translation table, including all 71 EUNIS habitat types, ensures thorough and accurate habitat mapping. Access the full translation table <a href="https://deltares-my.sharepoint.com/:x:/r/personal/desmond_lartey_deltares_nl/Documents/Desktop/DesirMED%20Work_Together/2%20Project%20Documents/3%20Landscape%20Characterisation%20ACTIONS/LandUse_to_EUNIS_Mapping.xlsx?d=w3e15aebd15e747e7ba1c2ab8e9754670&csf=1&web=1&e=Beb9Oy">here</a>.</li>
  <li>**Advanced Handling of Overlaps:** Overlapping geometries are resolved using Google Earth Engine (GEE) tools, ensuring consistency in habitat delineation.</li>
  <li>**Scalability and Flexibility:** Leveraging GEE allows us to handle large datasets, perform complex spatial analyses, and generate high-resolution EUNIS maps dynamically.</li>
</ul>

<p>Our methodology ensures a more robust and comprehensive EUNIS dataset, addressing past limitations and providing better support for conservation efforts.</p>

<h4><strong>Land Use to EUNIS Crosswalk</strong></h4>
<p>To translate LULC data into EUNIS habitat types, a crosswalk table is employed. This table maps each LULC class to its corresponding EUNIS code, ensuring consistency and ecological relevance. Below is a snippet of the translation:</p>

<table style="width:100%; border-collapse: collapse; text-align: left;">
<thead>
<tr style="border-bottom: 2px solid #ddd;">
  <th style="padding: 8px; text-align: center;"><strong>Land Use Code</strong></th>
  <th style="padding: 8px; text-align: center;"><strong>Land Use Description</strong></th>
  <th style="padding: 8px; text-align: center;"><strong>EUNIS Numeric</strong></th>
  <th style="padding: 8px; text-align: center;"><strong>EUNIS Code</strong></th>
  <th style="padding: 8px; text-align: center;"><strong>EUNIS Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
  <td style="padding: 8px; text-align: center;">11110</td>
  <td style="padding: 8px;">Continuous urban fabric (IMD >= 80%)</td>
  <td style="padding: 8px; text-align: center;">1</td>
  <td style="padding: 8px; text-align: center;">J1</td>
  <td style="padding: 8px;">Buildings of cities, towns, and villages</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">11120</td>
  <td style="padding: 8px;">Dense urban fabric (IMD >= 30-80%)</td>
  <td style="padding: 8px; text-align: center;">2</td>
  <td style="padding: 8px; text-align: center;">J1.2</td>
  <td style="padding: 8px;">Residential buildings of villages and urban peripheries</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">11130</td>
  <td style="padding: 8px;">Low density fabric (IMD < 30%)</td>
  <td style="padding: 8px; text-align: center;">3</td>
  <td style="padding: 8px; text-align: center;">J2</td>
  <td style="padding: 8px;">Low density buildings</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">11210</td>
  <td style="padding: 8px;">Industrial, commercial, public, and military units</td>
  <td style="padding: 8px; text-align: center;">4</td>
  <td style="padding: 8px; text-align: center;">J4</td>
  <td style="padding: 8px;">Transport networks and other hard-surfaced areas</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">11220</td>
  <td style="padding: 8px;">Nuclear energy plants and associated land</td>
  <td style="padding: 8px; text-align: center;">5</td>
  <td style="padding: 8px; text-align: center;">J4.5</td>
  <td style="padding: 8px;">Hard-surfaced areas of ports</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">12100</td>
  <td style="padding: 8px;">Road networks and associated land</td>
  <td style="padding: 8px; text-align: center;">6</td>
  <td style="padding: 8px; text-align: center;">J4.4</td>
  <td style="padding: 8px;">Airport runways and aprons</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">12310</td>
  <td style="padding: 8px;">Cargo port</td>
  <td style="padding: 8px; text-align: center;">5</td>
  <td style="padding: 8px; text-align: center;">J4.5</td>
  <td style="padding: 8px;">Hard-surfaced areas of ports</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">12320</td>
  <td style="padding: 8px;">Passenger port</td>
  <td style="padding: 8px; text-align: center;">5</td>
  <td style="padding: 8px; text-align: center;">J4.5</td>
  <td style="padding: 8px;">Hard-surfaced areas of ports</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">31100</td>
  <td style="padding: 8px;">Agro-forestry</td>
  <td style="padding: 8px; text-align: center;">19</td>
  <td style="padding: 8px; text-align: center;">V6</td>
  <td style="padding: 8px;">Tree dominated man-made habitats</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">63200</td>
  <td style="padding: 8px;">Burnt areas (except burnt forest)</td>
  <td style="padding: 8px; text-align: center;">40</td>
  <td style="padding: 8px; text-align: center;">U5</td>
  <td style="padding: 8px;">Miscellaneous inland habitats usually with very sparse or no vegetation</td>
</tr>
<tr>
  <td style="padding: 8px; text-align: center;">84100</td>
  <td style="padding: 8px;">Open sea</td>
  <td style="padding: 8px; text-align: center;">57</td>
  <td style="padding: 8px; text-align: center;">MC5</td>
  <td style="padding: 8px;">Circalittoral sand</td>
</tr>
</tbody>
</table>

<p>Access the full list of <a href="https://eunis.eea.europa.eu/habitats-code-browser-revised.jsp?expand=#level_31916">EUNIS habitat classifications</a> for detailed descriptions and additional information on habitat types.</p>
<p>You can also access the <a href="https://deltares-my.sharepoint.com/:x:/r/personal/desmond_lartey_deltares_nl/_layouts/15/Doc.aspx?sourcedoc=%7B3E15AEBD-15E7-47E7-BA1C-2AB8E9754670%7D&file=LandUse_to_EUNIS_Mapping.xlsx&action=default&mobileredirect=true">full eunis tranlation code </a> for coastal areas here.</p>

<p>Some EUNIS codes repeat for different land use classes, such as port-related classes (e.g., cargo port, passenger port) mapping to J4.5. This repetition reflects the shared ecological characteristics of these land uses. However, it also underscores the need for careful validation to ensure that such overlaps do not introduce ambiguities into habitat assessments. From a special point of view, we have added a 2012 Eunis habitat map just to compare changes. This helps to also validate if a change of a classified eunis class make sense or not</p>

---

<h4><strong>Next Steps</strong></h4>
<p>We will proceed to outline the step-by-step process for creating a EUNIS habitat map.</p>

<h5><strong>Step 1: Define Land Cover Datasets</strong></h5>
<p>To start, we need to define the datasets that represent land cover for the years 2012 and 2018. These datasets will form the basis of our EUNIS habitat classification.</p>

<pre>
<code>// Define the land cover datasets
var landCoverYears = {
  '2012': ee.FeatureCollection('projects/ee-desmond/assets/lulc2012_Croatiafinal'),
  '2018': ee.FeatureCollection('projects/ee-desmond/assets/lulc2018_Croatiafinal')
};
</code>
</pre>

<p><strong>Explanation:</strong> This step initializes an object containing the FeatureCollections for the two datasets. Each dataset represents the land cover of Croatia for a specific year.</p>

<h5><strong>Step 2: Define the Crosswalk Mapping</strong></h5>
<p>In this step, we define how land cover classes from the datasets are translated into EUNIS habitat codes. This mapping is essential for accurate reclassification.</p>

<pre>
<code>// Define the crosswalk mapping from land cover classes to EUNIS habitats
var landCoverToEunisNumeric = {
  11110: 1,  // J1 - Buildings of cities, towns, and villages
  11120: 2,  // J1.2 - Residential buildings of villages and urban peripheries
  11130: 3,  // J2 - Low density buildings
  11210: 4,  // J4 - Transport networks and other hard-surfaced areas
  11220: 5,  // J4.5 - Hard-surfaced areas of ports
  12100: 6,  // J4.4 - Airport runways and aprons
  12200: 7,  // J3 - Extractive industrial sites
  12310: 5,  // J4.5 - Hard-surfaced areas of ports
  12320: 5,  // J4.5 - Hard-surfaced areas of ports
  12330: 5,  // J4.5 - Hard-surfaced areas of ports
  12340: 5,  // J4.5 - Hard-surfaced areas of ports
  // ... Add the remaining mappings here
};
</code>
</pre>

<p><strong>Explanation:</strong> This object maps numeric land cover codes to their corresponding EUNIS numeric codes. Each mapping represents a habitat type, allowing us to translate land cover data into the EUNIS classification system.</p>

<h5><strong>Step 3: Define the EUNIS Properties</strong></h5>
<p>Here, we assign properties like color and descriptions to EUNIS habitat types. This enhances visualization and understanding of the output.</p>

<pre>
<code>// Define the EUNIS properties mapping
var eunisNumericMapping = {
  1: {eunisCode: 'J1', color: '#b22222', description: 'Buildings of cities, towns, and villages'},
  2: {eunisCode: 'J1.2', color: '#ff4500', description: 'Residential buildings of villages and urban peripheries'},
  3: {eunisCode: 'J2', color: '#ffa07a', description: 'Low density buildings'},
  4: {eunisCode: 'J4', color: '#8b4513', description: 'Transport networks and other hard-surfaced areas'},
  // ... Add more EUNIS properties here
};
</code>
</pre>

<p><strong>Explanation:</strong> Each EUNIS code is assigned a color and description. This is useful for visualization and interpretation of the classified datasets.</p>

<h5><strong>Step 4: Reclassify Land Cover to EUNIS</strong></h5>
<p>Now, we write a function to reclassify the land cover dataset into EUNIS habitats based on the mapping we defined earlier.</p>

<pre>
<code>// Function to reclassify land cover data into EUNIS numeric codes
var reclassifyToEunis = function(dataset, codeField, mapping) {
  var mappingKeys = Object.keys(mapping).map(Number); // Input land cover class codes as numbers
  var mappingValues = Object.keys(mapping).map(function(key) {
    return mapping[key]; // Extract corresponding EUNIS numeric codes
  });

  return dataset.remap(
    mappingKeys,  // CORINE codes as input
    mappingValues // Corresponding EUNIS numeric codes
  );
};
</code>
</pre>

<p><strong>Explanation:</strong> This function accepts a dataset, a code field, and the mapping object. It uses the <code>remap</code> function to reclassify the dataset based on the mapping.</p>

<h5><strong>Step 5: Visualize the Reclassified Dataset</strong></h5>
<p>We create another function to style the reclassified EUNIS image for visualization in Google Earth Engine.</p>

<pre>
<code>// Function to style the reclassified EUNIS image
var styleEunisImage = function(image) {
  var palette = Object.keys(eunisNumericMapping).map(function(key) {
    return eunisNumericMapping[key].color; // Extract EUNIS color values
  });

  return image.visualize({
    min: 1,
    max: 58, // Adjust range based on EUNIS numeric codes
    palette: palette // Apply palette for EUNIS visualization
  });
};
</code>
</pre>

<p><strong>Explanation:</strong> This function applies a color palette to the reclassified dataset for better visualization. The palette is derived from the EUNIS properties defined earlier.</p>

<h5><strong>Step 6: Define Croatia Coastal Boundaries</strong></h5>
<p>We define the geographic bounds of Croatia's coastal regions to limit the analysis to the relevant area.</p>

<pre>
<code>// Define Croatia's coastal bounds
var croatiaCoastalBounds = ee.Geometry.Polygon([
  [13.5, 44.0], [18.5, 44.0], [18.5, 42.0], [13.5, 42.0], [13.5, 44.0]
]);
</code>
</pre>

<p><strong>Explanation:</strong> This polygon defines the region of interest, focusing the analysis on Croatia's coastal area and excluding inland or irrelevant regions.</p>

<h5><strong>Step 7: Reclassify and Style the 2012 Dataset</strong></h5>
<p>Using the reclassification and visualization functions, we process the 2012 land cover dataset.</p>

<pre>
<code>// Reclassify and style 2012 dataset
var reclassified2012 = reclassifyToEunis(
  landCoverYears['2012'].filterBounds(croatiaCoastalBounds).reduceToImage(['CODE_5_12'], ee.Reducer.first()),
  'CODE_5_12',
  landCoverToEunisNumeric
);

Map.addLayer(reclassified2012, {
  min: 1,
  max: 58,
  palette: Object.keys(eunisNumericMapping).map(function(key) {
    return eunisNumericMapping[key].color;
  })
}, 'EUNIS 2012');
</code>
</pre>

<p><strong>Explanation:</strong> This step filters, reclassifies, and visualizes the 2012 dataset for Croatia's coastal regions.</p>

<h5><strong>Step 8: Reclassify and Style the 2018 Dataset</strong></h5>
<p>We repeat the process for the 2018 dataset, ensuring consistency in approach and visualization.</p>

<pre>
<code>// Reclassify and style 2018 dataset
var reclassified2018 = reclassifyToEunis(
  landCoverYears['2018'].filterBounds(croatiaCoastalBounds).reduceToImage(['CODE_5_18'], ee.Reducer.first()),
  'CODE_5_18',
  landCoverToEunisNumeric
);

Map.addLayer(reclassified2018, {
  min: 1,
  max: 58,
  palette: Object.keys(eunisNumericMapping).map(function(key) {
    return eunisNumericMapping[key].color;
  })
}, 'EUNIS 2018');
</code>
</pre>

<p><strong>Explanation:</strong> The 2018 dataset is processed in the same way, enabling direct comparison with the 2012 dataset.</p>

<p>Now that the 2018 dataset is visualized, comparisons between 2012 and 2018 are possible.</p>

<h5><strong>Step 9: Create a Chart for Comparing EUNIS Areas</h5>strong></strong></h5>
<p><strong>Explanation:</strong> Comparing habitat areas across years provides insights into ecological changes. This is done by computing areas of each EUNIS class and displaying them in bar and pie charts for better visualization.</p>

<pre><code>// Function to compute EUNIS areas
var computeEunisAreas = function(image, year, geometry) {
  var areaImage = ee.Image.pixelArea().divide(1e6).addBands(image.rename('class')); // Area in km²
  var areas = areaImage.reduceRegion({
    reducer: ee.Reducer.sum().group({
      groupField: 1,
      groupName: 'class'
    }),
    geometry: geometry,
    scale: 100,
    maxPixels: 1e13
  });
  return ee.List(areas.get('groups')).map(function(item) {
    var areaDict = ee.Dictionary(item);
    return ee.Feature(null, {
      'class': ee.Number(areaDict.get('class')),
      'area': ee.Number(areaDict.get('sum')),
      'year': year
    });
  });
};</code></pre>

<p>The computed areas for both 2012 and 2018 datasets are visualized in a bar chart for direct comparison.</p>

<h5><strong>Step 10: Export the Reclassified Data</strong></h5>
<p><strong>Explanation:</strong> To facilitate further analysis or sharing, the reclassified datasets for 2012 and 2018 are exported in raster and vector formats. These exports allow users to inspect and validate the data in desktop GIS tools.</p>

<pre><code>// Export reclassified 2018 dataset as raster
Export.image.toDrive({
  image: reclassified2018,
  description: 'EUNIS_2018_TIFF',
  fileNamePrefix: 'EUNIS_2018_TIFF',
  region: croatiaCoastalBounds,
  scale: 30,
  crs: 'EPSG:4326',
  maxPixels: 1e13
});</code></pre>

<pre><code>// Export reclassified 2018 dataset as vector
var vectorEunis2018 = reclassified2018.reduceToVectors({
  geometryType: 'polygon',
  reducer: ee.Reducer.countEvery(),
  scale: 30,
  maxPixels: 1e13,
  geometry: croatiaCoastalBounds
});

Export.table.toDrive({
  collection: vectorEunis2018,
  description: 'EUNIS_2018_Shapefile',
  fileFormat: 'SHP',
  folder: 'GEE',
  fileNamePrefix: 'EUNIS_2018_Shapefile'
});</code></pre>

<p>These outputs can now be used for detailed GIS-based analysis and validation.</p>

<h5><strong>Step 11: Add User Interaction for Drawing Analysis</strong></h5>
<p><strong>Explanation:</strong> Drawing tools allow users to interactively analyze specific areas on the map. The drawn geometry serves as the input for computing EUNIS class areas.</p>

<pre><code>// Enable drawing tools on the map
var drawingTools = ui.Map.DrawingTools();
drawingTools.setShown(true);
drawingTools.setDrawModes(['polygon']);
Map.add(drawingTools);

// Analyze drawn geometry
drawingTools.onDraw(function(geometry) {
  var eunisAreas = computeEunisAreas(reclassified2018, '2018', geometry);
  print('EUNIS Areas:', eunisAreas);
});</code></pre>

<p>This interactive feature enhances user engagement by allowing custom area analysis.</p>

<h5><strong>Step 12: Create a Legend</strong></h5>
<p><strong>Explanation:</strong> A legend helps users understand the mapping of EUNIS classes to colors. This is essential for interpreting the visualized data accurately.</p>

<pre><code>// Create a legend panel
var legend = ui.Panel({
  style: { position: 'bottom-left', padding: '8px' }
});
legend.add(ui.Label('EUNIS Habitat Classes'));

Object.keys(eunisNumericMapping).forEach(function(key) {
  legend.add(ui.Panel({
    widgets: [
      ui.Label({
        style: {
          backgroundColor: eunisNumericMapping[key].color,
          padding: '8px',
          margin: '4px'
        }
      }),
      ui.Label(eunisNumericMapping[key].description)
    ],
    layout: ui.Panel.Layout.Flow('horizontal')
  }));
});

Map.add(legend);</code></pre>

<p>Now users can reference the legend to understand the visualized classifications.</p>

<h5><strong>Step 13: Finalize and Share the Workflow</strong></h5>
<p><strong>Explanation:</strong> The completed workflow can now be shared with stakeholders or team members. This step involves documenting the methodology and ensuring all data outputs are correctly exported and stored.</p>

<pre><code>// Save the script and export as needed
print('Workflow completed successfully.');</code></pre>

<p>At this stage, the habitat classification workflow is finalized and ready for application.</p>


<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.4.0 (2024-04-24 ucrt)
Platform: x86_64-w64-mingw32/x64
Running under: Windows 11 x64 (build 22631)

Matrix products: default


locale:
[1] LC_COLLATE=English_Germany.utf8  LC_CTYPE=English_Germany.utf8   
[3] LC_MONETARY=English_Germany.utf8 LC_NUMERIC=C                    
[5] LC_TIME=English_Germany.utf8    

time zone: Europe/Berlin
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] terra_1.8-5     sf_1.0-19       workflowr_1.7.1

loaded via a namespace (and not attached):
 [1] jsonlite_1.8.8     highr_0.11         compiler_4.4.0     promises_1.3.0    
 [5] Rcpp_1.0.13        stringr_1.5.1      git2r_0.33.0       callr_3.7.6       
 [9] later_1.3.2        jquerylib_0.1.4    yaml_2.3.10        fastmap_1.2.0     
[13] R6_2.5.1           classInt_0.4-10    knitr_1.48         tibble_3.2.1      
[17] units_0.8-5        rprojroot_2.0.4    DBI_1.2.3          bslib_0.8.0       
[21] pillar_1.9.0       rlang_1.1.4        utf8_1.2.4         cachem_1.1.0      
[25] stringi_1.8.4      httpuv_1.6.15      xfun_0.47          getPass_0.2-4     
[29] fs_1.6.4           sass_0.4.9         cli_3.6.3          magrittr_2.0.3    
[33] class_7.3-22       ps_1.8.1           grid_4.4.0         digest_0.6.36     
[37] processx_3.8.4     rstudioapi_0.16.0  lifecycle_1.0.4    vctrs_0.6.5       
[41] KernSmooth_2.23-22 proxy_0.4-27       evaluate_0.24.0    glue_1.7.0        
[45] whisker_0.4.1      codetools_0.2-20   e1071_1.7-16       fansi_1.0.6       
[49] rmarkdown_2.28     httr_1.4.7         tools_4.4.0        pkgconfig_2.0.3   
[53] htmltools_0.5.8.1 </code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
